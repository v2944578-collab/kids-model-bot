import asyncio
import os

from aiogram import Bot, Dispatcher, F
from aiogram.filters import CommandStart
from aiogram.types import Message, ReplyKeyboardMarkup, KeyboardButton


# =====================
# TOKEN
# =====================
BOT_TOKEN = os.getenv("BOT_TOKEN")

if not BOT_TOKEN:
    raise ValueError("BOT_TOKEN is not set")


# =====================
# BOT & DISPATCHER
# =====================
bot = Bot(token=BOT_TOKEN)
dp = Dispatcher()


# =====================
# KEYBOARDS
# =====================
main_keyboard = ReplyKeyboardMarkup(
    keyboard=[
        [KeyboardButton(text="üìç –û –Ω–∞—Å")],
        [KeyboardButton(text="üëß –ì—Ä—É–ø–ø–∞ 6‚Äì9 –ª–µ—Ç")],
        [KeyboardButton(text="üßí –ì—Ä—É–ø–ø–∞ 10‚Äì14 –ª–µ—Ç")],
        [KeyboardButton(text="üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ")],
        [KeyboardButton(text="üë©‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏")],
        [KeyboardButton(text="‚úçÔ∏è –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å")],
    ],
    resize_keyboard=True
)


# =====================
# TEXTS
# =====================
START_TEXT = (
    "–ü—Ä–∏–≤–µ—Ç!\n"
    "–ú—ã ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–µ—Ç—Å–∫–æ–µ –º–æ–¥–µ–ª—å–Ω–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ, –º—ã ‚Äî *ALFAKIDS* ü™©\n\n"
    "–ú—ã –ø–æ–º–æ–≥–∞–µ–º –¥–µ—Ç—è–º –ø–æ–∫–æ–ª–µ–Ω–∏—è Alfa:\n"
    "üß∏ —Ä–∞—Å–∫—Ä—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–µ–±–µ\n"
    "üß∏ –Ω–∞—É—á–∏—Ç—å—Å—è –∫—Ä–∞—Å–∏–≤–æ —Ö–æ–¥–∏—Ç—å\n"
    "üß∏ –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –æ—Å–∞–Ω–∫—É\n"
    "üß∏ –Ω–∞—É—á–∏—Ç—å—Å—è –¥–µ—Ä–∂–∞—Ç—å—Å—è –ø–µ—Ä–µ–¥ –∫–∞–º–µ—Ä–æ–π –∏ –Ω–∞ —Å—Ü–µ–Ω–µ ü§ç\n\n"
    "–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é –Ω–∏–∂–µ üëá"
)

GROUP_6_9_TEXT = (
    "üëßüßí *–ì—Ä—É–ø–ø–∞ 6‚Äì9 –ª–µ—Ç*\n\n"
    "–ó–∞–Ω—è—Ç–∏—è –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è 2 —Ñ–µ–≤—Ä–∞–ª—è.\n"
    "–ö—É—Ä—Å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ 4 –º–µ—Å—è—Ü–∞ –∏ –≤–∫–ª—é—á–∞–µ—Ç:\n"
    "‚Ä¢ –æ–±—É—á–∞—é—â–∏–µ –∑–∞–Ω—è—Ç–∏—è\n"
    "‚Ä¢ —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏\n"
    "‚Ä¢ –ø–æ–∫–∞–∑—ã\n"
    "‚Ä¢ —É—á–∞—Å—Ç–∏–µ –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏ ‚Äî –î–µ—Ç—Å–∫–∞—è –ù–µ–¥–µ–ª—è –ú–æ–¥—ã ‚ú®\n\n"
    "–°—Ç–æ–∏–º–æ—Å—Ç—å: 12 000 ‚ÇΩ –≤ –º–µ—Å—è—Ü\n"
    "–ó–∞–Ω—è—Ç–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç –ø–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞–º —Å 18:00 –¥–æ 20:00.\n\n"
    "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –≤–∞–º –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∞–Ω–∫–µ—Ç–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–∏ üìã"
)

GROUP_10_14_TEXT = (
    "üëßüßí *–ì—Ä—É–ø–ø–∞ 10‚Äì14 –ª–µ—Ç*\n\n"
    "–°—Ç–∞—Ä—Ç –∑–∞–Ω—è—Ç–∏–π ‚Äî 2 —Ñ–µ–≤—Ä–∞–ª—è.\n"
    "–ö—É—Ä—Å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ 4 –º–µ—Å—è—Ü–∞ –∏ –≤–∫–ª—é—á–∞–µ—Ç:\n"
    "‚Ä¢ –æ–±—É—á–∞—é—â–∏–µ –∑–∞–Ω—è—Ç–∏—è\n"
    "‚Ä¢ —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏\n"
    "‚Ä¢ –ø–æ–∫–∞–∑—ã\n"
    "‚Ä¢ —É—á–∞—Å—Ç–∏–µ –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏ ‚Äî –î–µ—Ç—Å–∫–∞—è –ù–µ–¥–µ–ª—è –ú–æ–¥—ã ‚ú®\n\n"
    "–°—Ç–æ–∏–º–æ—Å—Ç—å: 12 000 ‚ÇΩ –≤ –º–µ—Å—è—Ü\n"
    "–ó–∞–Ω—è—Ç–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç –ø–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞–º —Å 18:00 –¥–æ 20:00.\n\n"
    "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –≤–∞–º –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∞–Ω–∫–µ—Ç–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–∏ üìã"
)

SCHEDULE_TEXT = (
    "üìÖ *–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π*\n\n"
    "–ó–∞–Ω—è—Ç–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç 1 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –Ω–∞ –±–∞–∑–µ\n"
    "–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–ª—É–±–∞ ¬´–ù–∞—Å–ª–µ–¥–Ω–∏–∫¬ª\n\n"
    "üëß –ì—Ä—É–ø–ø–∞ 6‚Äì9 –ª–µ—Ç:\n"
    "‚Ä¢ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ ‚Äî 18:00‚Äì20:00\n\n"
    "üßí –ì—Ä—É–ø–ø–∞ 10‚Äì14 –ª–µ—Ç:\n"
    "‚Ä¢ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ ‚Äî 18:00‚Äì20:00\n\n"
    "–ü–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å¬ª üí¨"
)

TEACHERS_TEXT = (
    "üë©‚Äçüè´ *–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ ALFAKIDS*\n\n"
    "–° –¥–µ—Ç—å–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—ã –∏ —ç–∫—Å–ø–µ—Ä—Ç—ã "
    "—Å –æ–ø—ã—Ç–æ–º –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ –º–æ–¥—ã –∏ –ø–µ–¥–∞–≥–æ–≥–∏–∫–µ:\n\n"
    "‚Ä¢ –ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –õ–æ–º–∞–Ω–æ–≤–∞\n"
    "‚Ä¢ –î–∞—Ä—å—è –ù–æ—â–∏–∫\n"
    "‚Ä¢ –ü–æ–ª–∏–Ω–∞\n"
    "‚Ä¢ –ö–∞—Ç–µ—Ä–∏–Ω–∞ –ö–∞—à—É—Ç—á–∏–∫\n\n"
    "–ù–∞ –∑–∞–Ω—è—Ç–∏—è—Ö –º—ã —É–¥–µ–ª—è–µ–º –≤–Ω–∏–º–∞–Ω–∏–µ:\n"
    "‚Ä¢ –ø–æ–¥–∏—É–º–Ω–æ–π –ø–æ—Ö–æ–¥–∫–µ –∏ –¥–µ—Ñ–∏–ª–µ\n"
    "‚Ä¢ –ø–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—é –∏ —Ñ–æ—Ç–æ–ø–ª–∞—Å—Ç–∏–∫–µ\n"
    "‚Ä¢ —Ä–∞–±–æ—Ç–µ —Å –æ—Å–∞–Ω–∫–æ–π –∏ —Ç–µ–ª–æ–º\n"
    "‚Ä¢ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Å–µ–±–µ –∏ —Å–∞–º–æ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏\n\n"
    "–ú—ã —Å–æ–∑–¥–∞—ë–º –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É, "
    "–≤ –∫–æ—Ç–æ—Ä–æ–π —Ä–µ–±—ë–Ω–æ–∫ —á—É–≤—Å—Ç–≤—É–µ—Ç —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–æ –∏ —Å–≤–æ–±–æ–¥–Ω–æ ü§ç")

QUESTION_TEXT = (
    "‚úçÔ∏è *–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å*\n\n"
    "–ï—Å–ª–∏ —É –≤–∞—Å –æ—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã –æ –∑–∞–Ω—è—Ç–∏—è—Ö, —Ñ–æ—Ä–º–∞—Ç–µ –æ–±—É—á–µ–Ω–∏—è –∏–ª–∏ –æ–ø–ª–∞—Ç–µ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º.\n\n"
    "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —É–≤–∏–¥–∏—Ç –º–µ–Ω–µ–¥–∂–µ—Ä ALFAKIDS –∏ –æ—Ç–≤–µ—Ç–∏—Ç –≤–∞–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è üí¨"
)


# =====================
# HANDLERS
# =====================
@dp.message(CommandStart())
async def start(message: Message):
    await message.answer(
        START_TEXT,
        reply_markup=main_keyboard,
        parse_mode="Markdown"
    )


@dp.message(F.text == "üìç –û –Ω–∞—Å")
async def about(message: Message):
    await message.answer(START_TEXT, parse_mode="Markdown")


@dp.message(F.text == "üëß –ì—Ä—É–ø–ø–∞ 6‚Äì9 –ª–µ—Ç")
async def group_6_9(message: Message):
    await message.answer(GROUP_6_9_TEXT, parse_mode="Markdown")


@dp.message(F.text == "üßí –ì—Ä—É–ø–ø–∞ 10‚Äì14 –ª–µ—Ç")
async def group_10_14(message: Message):
    await message.answer(GROUP_10_14_TEXT, parse_mode="Markdown")


@dp.message(F.text == "üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ")
async def schedule(message: Message):
    await message.answer(SCHEDULE_TEXT, parse_mode="Markdown")


@dp.message(F.text == "üë©‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏")
async def teachers(message: Message):
    await message.answer(TEACHERS_TEXT, parse_mode="Markdown")


@dp.message(F.text == "‚úçÔ∏è –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å")
async def question(message: Message):
    await message.answer(QUESTION_TEXT, parse_mode="Markdown")


# =====================
# START BOT
# =====================
async def main():
    await dp.start_polling(bot)


if __name__ == "__main__":
    import asyncio
    asyncio.run(main())
